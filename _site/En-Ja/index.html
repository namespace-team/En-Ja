<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>english to japanese</title>
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/css/styles.css" />
</head>

  <body >
      <div id="formHolder" class="moveCenter">
        <script src="/js/lunrjs.js"></script>

<script>
document.getElementById('formHolder').classList.remove("moveTop");
document.getElementById('formHolder').classList.add("moveCenter");
var documents = [{
    "en": "tags",
    "ja": "タグ"
    },{
    "en": "prefectures",
    "ja": "地域"
    },{
    "en": "dashboard",
    "ja": "ダッシュボード"
    },{
    "en": "dashboard",
    "ja": "ダッシュ"
    },];

let idx = lunr(function () {
    this.field('en');
    this.ref('ja');
//   this.add({"en": "tags", "ja" : "タグ"})
    documents.forEach(function (doc) {
        this.add(doc)
    }, this)
});

function lunr_search(term) {
    document.getElementById('lunrsearchresults').innerHTML = '<ul></ul>';
    if(term) {
        document.getElementById('lunrsearchresults').innerHTML = "<p>Search results for '" + term + "'</p>" + document.getElementById('lunrsearchresults').innerHTML;
        var results = idx.search(term);
        if(results.length>0){
            document.getElementById('formHolder').classList.remove("moveCenter");
            document.getElementById('formHolder').classList.add("moveTop");
            for (var i = 0; i < results.length; i++) {
                var ref = results[i]['ref'];     
                 document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML + "<li class='lunrsearchresult'>"+ ref +"</li>";
            }
        } else {
            document.getElementById('formHolder').classList.remove("moveTop");
            document.getElementById('formHolder').classList.add("moveCenter");
            document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = "<li class='lunrsearchresult' style='list-style: none;'>Not found...</li>";
        }
    }
    return false;
}
</script>

<form onSubmit="return lunr_search(document.getElementById('lunrsearch').value);" autocomplete="off" id="searchBox" class="">
    <p><input type="text" class="form-control" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Enter English word..." /></p>
</form>
<div id="lunrsearchresults" class="resultArea">
    <ul></ul>
</div>
      </div>
    

  </body>
</html>